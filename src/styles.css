:root{--bg:#ffffff;--ink:#0f172a;--primary:#1A237E;--accent:#FF6F00;--header-bg:linear-gradient(135deg, #e91e63 0%, #4fc3f7 100%)}
*{box-sizing:border-box}
html,body,#root{height:100%}
body{margin:0;background:var(--bg);color:var(--ink);font-family:ui-sans-serif,system-ui,-apple-system,"Helvetica Neue",Arial;line-height:1.5}

/* App container */
.app-container{min-height:100vh;display:flex;flex-direction:column}

/* Header styles */
.app-header{background:var(--header-bg);color:white;padding:clamp(16px,4vw,24px) 0;text-align:center}
.header-content{max-width:1080px;margin:0 auto;padding:0 clamp(12px,4vw,24px)}
.app-title{margin:0 0 clamp(4px,2vw,8px);font-size:clamp(18px,4.5vw,28px);font-weight:700;letter-spacing:0.5px;line-height:1.2}
.app-subtitle{margin:0;font-size:clamp(13px,3vw,16px);opacity:0.9;line-height:1.3}

@media (max-width: 480px){
  .app-header{padding:12px 0}
  .app-title{font-size:20px}
  .app-subtitle{font-size:14px}
}

.container{max-width:1080px;margin:0 auto;padding:clamp(12px,4vw,24px);flex:1}
.header{display:flex;justify-content:space-between;align-items:center;height:64px}
.logo{font-weight:700;letter-spacing:.5px}
.nav{display:flex;gap:12px;overflow-x:auto;-webkit-overflow-scrolling:touch}
.tabs{display:flex;gap:8px;overflow-x:auto;padding:16px 0;margin-bottom:16px;-webkit-overflow-scrolling:touch}
.tab{appearance:none;border:1px solid #e5e7eb;background:#fff;color:var(--ink);padding:12px 16px;border-radius:9999px;font-size:14px;min-height:44px;white-space:nowrap;font-weight:500;transition:all 0.2s ease}
.tab.active{background:var(--primary);border-color:var(--primary);color:#fff;box-shadow:0 2px 8px rgba(26,35,126,0.3)}
.tab:hover:not(.active){background:#f8fafc;border-color:#cbd5e1}
@media (max-width: 420px){
  .tabs{gap:6px;padding:12px 0}
  .tab{padding:10px 14px;font-size:13px;min-height:40px}
}
.nav a{margin-left:0;color:var(--ink);text-decoration:none;padding:8px 10px;border-radius:6px}
.nav a:hover{outline:1px solid var(--primary)}
main{padding-top:8px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:24px}
.card{display:block;border:1px solid #e5e7eb;padding:12px;border-radius:6px;text-decoration:none;color:inherit}
.card:hover{outline:1px solid var(--primary)}
.card img{width:100%;height:160px;object-fit:contain;background:#fff}
.card-body{padding-top:8px;display:flex;justify-content:space-between}
.detail{display:grid;grid-template-columns:1fr 1fr;gap:32px;align-items:start}
.detail-img{width:100%;height:360px;object-fit:contain;border:1px solid #e5e7eb}
.detail-body h1{margin:0 0 8px}
.desc{color:#475569}
.price{font-weight:700}
.btn{display:inline-block;padding:12px 18px;min-height:44px;border:1px solid var(--primary);background:var(--primary);color:#fff;border-radius:8px;font-size:16px}
.btn.primary{background:var(--accent);border-color:var(--accent)}
.form{max-width:560px;margin:0 auto;display:flex;flex-direction:column;gap:12px}
.form label{display:flex;flex-direction:column;gap:6px}
.form input,.form textarea,.form select{padding:12px;min-height:44px;border:1px solid #e5e7eb;border-radius:8px;font-size:16px}
.simulator{display:grid;grid-template-columns:360px 1fr;gap:24px}
.preview{display:flex;align-items:center;justify-content:center}
.panel{display:flex;flex-direction:column;gap:16px}
.step{display:flex;flex-direction:column;gap:8px}
.summary{display:grid;grid-template-columns:120px 1fr;gap:12px;align-items:center}
.total{font-weight:700}
.stepper{display:flex;align-items:center;gap:8px}
.stepper button{width:40px;height:40px;border:1px solid #e5e7eb;border-radius:8px;background:white;font-size:18px;font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center}
.stepper button:hover{background:#f9fafb}
.stepper .value{min-width:40px;text-align:center;font-weight:600;font-size:16px}

/* Mobile-first enhancements */
@media (max-width: 840px){
  .detail{grid-template-columns:1fr}
  .simulator{grid-template-columns:1fr}
}

@media (max-width: 720px){
  .header{height:56px}
  .logo{font-size:18px}
  .grid{grid-template-columns:repeat(2,minmax(0,1fr));gap:16px}
  .card{padding:10px}
  .card img{height:140px}
  .detail-img{height:260px}
  .btn{width:100%}
  .summary{grid-template-columns:1fr}
}

@media (max-width: 420px){
  .grid{grid-template-columns:1fr}
  .card img{height:120px}
  .container{padding:12px}
}
/* Stripe background across layout */
.stripe-bg{background-image:repeating-linear-gradient(135deg, rgba(26,35,126,0.06) 0 12px, rgba(255,255,255,0.0) 12px 24px);background-size:24px 24px}

/* Square list grid */
.square-list{display:grid;gap:12px;grid-template-columns:repeat(2,minmax(0,1fr))}
.square-card{display:block;text-decoration:none;color:inherit;transition:transform 0.2s ease,box-shadow 0.2s ease}
.square-card:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,0.1)}
.square-thumb{position:relative;width:100%;aspect-ratio:1/1;border:1px solid #e5e7eb;border-radius:8px;background:#fff;display:flex;align-items:center;justify-content:center;overflow:hidden}
.square-thumb img{max-width:85%;max-height:85%;object-fit:contain;display:block;transition:transform 0.2s ease}
.square-card:hover .square-thumb img{transform:scale(1.05)}
.square-meta{padding:8px 4px;display:flex;justify-content:space-between;align-items:center;font-size:14px}
.square-meta .name{font-weight:500;color:var(--ink);line-height:1.3}
.square-meta .price{font-weight:700;color:var(--primary);white-space:nowrap}

/* responsive columns */
@media (max-width: 480px){
  .square-list{gap:8px}
  .square-meta{font-size:13px;padding:6px 2px}
}
@media (min-width: 768px){
  .square-list{grid-template-columns:repeat(3,minmax(0,1fr));gap:16px}
}
@media (min-width: 1024px){
  .square-list{grid-template-columns:repeat(4,minmax(0,1fr));gap:20px}
}

/* Color swatches */
.swatches{display:flex;gap:10px;flex-wrap:wrap}
.swatch{appearance:none;width:32px;height:32px;border-radius:50%;border:2px solid #e5e7eb;display:inline-block;cursor:pointer}
.swatch[aria-checked="true"], .swatch:focus{outline:2px solid var(--primary);outline-offset:2px}

/* Quantity stepper */
.stepper{display:inline-flex;align-items:center;border:1px solid #e5e7eb;border-radius:8px;overflow:hidden}
.stepper button{min-width:44px;min-height:44px;border:none;background:#f8fafc;color:var(--ink);font-size:18px}
.stepper .value{min-width:48px;text-align:center;font-weight:700}

/* Quantity Grid Styles */
.quantity-grid {
  margin-top: 12px;
  border: 1px solid #d1d5db;
  border-radius: 8px;
  overflow: hidden;
  background: white;
}

.grid-header {
  display: flex;
  background: #f3f4f6;
  border-bottom: 2px solid #d1d5db;
}

.grid-row {
  display: flex;
  border-bottom: 1px solid #e5e7eb;
}

.grid-row:last-child {
  border-bottom: none;
}

.grid-cell {
  flex: 1;
  padding: 8px;
  text-align: center;
  border-right: 1px solid #e5e7eb;
  min-width: 60px;
}

.grid-cell:last-child {
  border-right: none;
}

.header-cell {
  font-weight: bold;
  background: #f3f4f6;
  font-size: 12px;
}

.color-cell {
  background: #f9fafb;
  font-weight: 500;
  font-size: 14px;
}

.input-cell {
  padding: 4px;
  position: relative;
}

.quantity-input {
  width: 100%;
  padding: 4px;
  border: 1px solid #d1d5db;
  border-radius: 4px;
  text-align: center;
  font-size: 14px;
  background: white;
}

.quantity-input:focus {
  outline: none;
  border-color: #3b82f6;
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);
}

.quantity-input:disabled {
  background: #f3f4f6;
  color: #9ca3af;
  cursor: not-allowed;
}

.stock-info {
  font-size: 10px;
  color: #6b7280;
  margin-top: 2px;
  line-height: 1;
}

.input-cell:has(.quantity-input:disabled) .stock-info {
  color: #ef4444;
  font-weight: bold;
}

/* レスポンシブ対応 */
@media (max-width: 768px) {
  .quantity-grid {
    font-size: 12px;
  }
  
  .grid-cell {
    min-width: 45px;
    padding: 6px 4px;
  }
  
  .quantity-input {
    font-size: 12px;
    padding: 2px;
  }
  
  .stock-info {
    font-size: 9px;
  }
}